(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{597:function(e,s,n){"use strict";n.r(s);var t=n(12),a=Object(t.a)({},(function(){var e=this,s=e.$createElement,n=e._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("p",[n("img",{attrs:{src:"https://i.imgur.com/CN7dGVO.jpg",alt:""}})]),e._v(" "),n("h2",{attrs:{id:"waht-is-jenkins"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#waht-is-jenkins"}},[e._v("#")]),e._v(" Waht is Jenkins?")]),e._v(" "),n("p",[n("a",{attrs:{href:"https://github.com/jenkinsci/jenkins",target:"_blank",rel:"noopener noreferrer"}},[e._v("Jenkins"),n("OutboundLink")],1),e._v(" is a free and open source automation server. It helps automate the parts of software development related to building, testing, and deploying, facilitating continuous integration and continuous delivery.")]),e._v(" "),n("h2",{attrs:{id:"installation"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#installation"}},[e._v("#")]),e._v(" Installation")]),e._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker")]),e._v(" network create jenkins\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker")]),e._v(" volume create jenkins-docker-certs\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker")]),e._v(" volume create jenkins-data\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker")]),e._v(" container run --name jenkins-docker --rm --detach ^\n  --privileged --network jenkins --network-alias "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker")]),e._v(" ^\n  --env "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("DOCKER_TLS_CERTDIR")]),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/certs ^\n  --volume jenkins-docker-certs:/certs/client ^\n  --volume jenkins-data:/var/jenkins_home ^\n  docker:dind\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker")]),e._v(" container run --name jenkins-blueocean --rm --detach ^\n  --network jenkins --env "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("DOCKER_HOST")]),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("tcp://docker:2376 ^\n  --env "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("DOCKER_CERT_PATH")]),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/certs/client --env "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("DOCKER_TLS_VERIFY")]),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v(" ^\n  --volume jenkins-data:/var/jenkins_home ^\n  --volume jenkins-docker-certs:/certs/client:ro ^\n  --publish "),n("span",{pre:!0,attrs:{class:"token number"}},[e._v("8080")]),e._v(":8080 --publish "),n("span",{pre:!0,attrs:{class:"token number"}},[e._v("50000")]),e._v(":50000 jenkinsci/blueocean\n  \n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker")]),e._v(" container "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("exec")]),e._v(" -it jenkins-blueocean "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("bash")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("cat")]),e._v(" /var/jenkins_home/secrets/initialAdminPassword\n\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br"),n("span",{staticClass:"line-number"},[e._v("14")]),n("br"),n("span",{staticClass:"line-number"},[e._v("15")]),n("br"),n("span",{staticClass:"line-number"},[e._v("16")]),n("br"),n("span",{staticClass:"line-number"},[e._v("17")]),n("br"),n("span",{staticClass:"line-number"},[e._v("18")]),n("br"),n("span",{staticClass:"line-number"},[e._v("19")]),n("br"),n("span",{staticClass:"line-number"},[e._v("20")]),n("br"),n("span",{staticClass:"line-number"},[e._v("21")]),n("br"),n("span",{staticClass:"line-number"},[e._v("22")]),n("br"),n("span",{staticClass:"line-number"},[e._v("23")]),n("br")])]),n("h3",{attrs:{id:"reference"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#reference"}},[e._v("#")]),e._v(" Reference")]),e._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://www.jenkins.io/doc/book/installing/#docker",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://www.jenkins.io/doc/book/installing/#docker"),n("OutboundLink")],1)])]),e._v(" "),n("h2",{attrs:{id:"troubleshooting"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#troubleshooting"}},[e._v("#")]),e._v(" Troubleshooting")]),e._v(" "),n("h3",{attrs:{id:"problem-wrong-volume-permissions"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#problem-wrong-volume-permissions"}},[e._v("#")]),e._v(" Problem: Wrong volume permissions")]),e._v(" "),n("ul",[n("li",[e._v("Error message:")])]),e._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[e._v("jenkins_server_1  "),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" Can not "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("write")]),e._v(" to /var/jenkins_home/copy_reference_file.log. Wrong volume permissions?                                                                                           \njenkins_server_1  "),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" touch: cannot "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("touch")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[e._v("'/var/jenkins_home/copy_reference_file.log'")]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(":")]),e._v(" Permission denied   \n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br")])]),n("ul",[n("li",[e._v("Solution1:")])]),e._v(" "),n("p",[e._v("Using docker volumes in stead of bind mount.")]),e._v(" "),n("ul",[n("li",[e._v("Solution2:")])]),e._v(" "),n("p",[e._v("Change the folder owner form root to current user.")]),e._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("chown")]),e._v(" -R "),n("span",{pre:!0,attrs:{class:"token number"}},[e._v("1000")]),e._v(" jenkins-data\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br")])]),n("ul",[n("li",[e._v("Reference\n"),n("ul",[n("li",[n("a",{attrs:{href:"https://github.com/jenkinsci/docker/issues/177",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/jenkinsci/docker/issues/177"),n("OutboundLink")],1)])])])]),e._v(" "),n("h3",{attrs:{id:"problem-jenkins-x509-certificate-is-valid"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#problem-jenkins-x509-certificate-is-valid"}},[e._v("#")]),e._v(" Problem: jenkins x509: certificate is valid")]),e._v(" "),n("ul",[n("li",[e._v("Error message:")])]),e._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[e._v("jenkins x509: certificate is valid "),n("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("for")]),e._v(" 4b5d9cbe789a, docker, localhost, not jenkins_docker script returned "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("exit")]),e._v(" code "),n("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br")])]),n("ul",[n("li",[e._v("Solution:\nChange the name of containe to "),n("code",[e._v("dock")]),e._v(" in stead of "),n("code",[e._v("jenkins_docker")]),e._v(" in the docker-compose file")])]),e._v(" "),n("h3",{attrs:{id:"problem-can-not-push-the-docker-images-to-private-registry"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#problem-can-not-push-the-docker-images-to-private-registry"}},[e._v("#")]),e._v(" Problem: Can not push the docker images to private registry")]),e._v(" "),n("ul",[n("li",[e._v("Solution: "),n("a",{attrs:{href:"./24_How-to-add-insecure-registries-in-docker-dind"}},[e._v("How to add insecure-registries in docker:dind")])])]),e._v(" "),n("h2",{attrs:{id:"integrate-gitea-and-jenkins"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#integrate-gitea-and-jenkins"}},[e._v("#")]),e._v(" Integrate gitea and jenkins")]),e._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://mike42.me/blog/2019-05-how-to-integrate-gitea-and-jenkins",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://mike42.me/blog/2019-05-how-to-integrate-gitea-and-jenkins"),n("OutboundLink")],1)])]),e._v(" "),n("h3",{attrs:{id:"troubleshooting-403-frobbinen-problem"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#troubleshooting-403-frobbinen-problem"}},[e._v("#")]),e._v(" Troubleshooting: 403 Frobbinen problem")]),e._v(" "),n("p",[e._v("This is a False positive just ignore it.")]),e._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://stackoverflow.com/questions/54672300/how-to-connect-jenkins-and-gieta",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://stackoverflow.com/questions/54672300/how-to-connect-jenkins-and-gieta"),n("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=a.exports}}]);